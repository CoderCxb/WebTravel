<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.27">
    <link rel="icon" href="/images/logo.png"><title>Date - 日期 |  Web之旅</title><meta name="description" content="旅游">
    <link rel="preload" href="/WebTravel/assets/js/runtime~app.e0f9ef3d.js" as="script"><link rel="preload" href="/WebTravel/assets/css/styles.eb5ab19a.css" as="style"><link rel="preload" href="/WebTravel/assets/js/1958.03479df5.js" as="script"><link rel="preload" href="/WebTravel/assets/js/app.2af0c91a.js" as="script">
    <link rel="stylesheet" href="/WebTravel/assets/css/styles.eb5ab19a.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header ref_key="navbar" class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/WebTravel/" class=""><!----><span class="site-name can-hide"> Web之旅</span></a></span><div class="navbar-links-wrapper" style=""><!--[--><!--]--><nav class="navbar-links can-hide"><!--[--><div class="navbar-links-item"><a href="/WebTravel/javascript/" class="nav-link router-link-active" aria-label="Javascript"><!--[--><!--]--> Javascript <!--[--><!--]--></a></div><div class="navbar-links-item"><a href="/WebTravel/typescript/" class="nav-link" aria-label="Typescript"><!--[--><!--]--> Typescript <!--[--><!--]--></a></div><div class="navbar-links-item"><a class="nav-link external" href="https://github.com/cxblovecw/WebTravel" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-dark-button" title="toggle dark mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><div id="docsearch-container"></div></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-links"><!--[--><div class="navbar-links-item"><a href="/WebTravel/javascript/" class="nav-link router-link-active" aria-label="Javascript"><!--[--><!--]--> Javascript <!--[--><!--]--></a></div><div class="navbar-links-item"><a href="/WebTravel/typescript/" class="nav-link" aria-label="Typescript"><!--[--><!--]--> Typescript <!--[--><!--]--></a></div><div class="navbar-links-item"><a class="nav-link external" href="https://github.com/cxblovecw/WebTravel" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-links"><!--[--><!--[--><p class="sidebar-heading sidebar-item active">Javascript</p><ul class=""><li><!--[--><a href="/WebTravel/javascript/grammar-foundation.html" class="nav-link sidebar-item" aria-label="语法基础"><!--[--><!--]--> 语法基础 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/WebTravel/javascript/operator.html" class="nav-link sidebar-item" aria-label="运算符"><!--[--><!--]--> 运算符 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/WebTravel/javascript/data-type/data-type.md" class="nav-link sidebar-item active" aria-label="数据类型"><!--[--><!--]--> 数据类型 <!--[--><!--]--></a><ul class="sidebar-sub-items"><li><!--[--><a href="/WebTravel/javascript/data-type/primitive-data-type.html" class="nav-link sidebar-item" aria-label="基本数据类型"><!--[--><!--]--> 基本数据类型 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/WebTravel/javascript/data-type/prototype/prototype.md" class="nav-link sidebar-item" aria-label="原型链"><!--[--><!--]--> 原型链 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/WebTravel/javascript/data-type/object/object-data-type.md" class="nav-link sidebar-item active" aria-label="引用数据类型"><!--[--><!--]--> 引用数据类型 <!--[--><!--]--></a><ul class="sidebar-sub-items"><li><!--[--><a href="/WebTravel/javascript/data-type/object/object.html" class="nav-link sidebar-item" aria-label="Object - 对象"><!--[--><!--]--> Object - 对象 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/WebTravel/javascript/data-type/object/array.html" class="nav-link sidebar-item" aria-label="Array - 数组"><!--[--><!--]--> Array - 数组 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/WebTravel/javascript/data-type/object/date.html" class="router-link-active router-link-exact-active nav-link router-link-active sidebar-item active" aria-label="Date - 日期"><!--[--><!--]--> Date - 日期 <!--[--><!--]--></a><ul class="sidebar-sub-items"><li><!--[--><a aria-current="page" href="/WebTravel/javascript/data-type/object/date.html#常见时间" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="常见时间"><!--[--><!--]--> 常见时间 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/WebTravel/javascript/data-type/object/date.html#构造函数" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="构造函数"><!--[--><!--]--> 构造函数 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/WebTravel/javascript/data-type/object/date.html#静态方法" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="静态方法"><!--[--><!--]--> 静态方法 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/WebTravel/javascript/data-type/object/date.html#实例方法" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="实例方法"><!--[--><!--]--> 实例方法 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/WebTravel/javascript/data-type/object/date.html#时间矫正" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="时间矫正"><!--[--><!--]--> 时间矫正 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/WebTravel/javascript/data-type/object/date.html#应用" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="应用"><!--[--><!--]--> 应用 <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--></li><li><!--[--><a href="/WebTravel/javascript/data-type/object/reg-exp.html" class="nav-link sidebar-item" aria-label="RegExp - 正则表达式"><!--[--><!--]--> RegExp - 正则表达式 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/WebTravel/javascript/data-type/object/primitive-object.html" class="nav-link sidebar-item" aria-label="包装类型"><!--[--><!--]--> 包装类型 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/WebTravel/javascript/data-type/object/set.html" class="nav-link sidebar-item" aria-label="Set - 集合"><!--[--><!--]--> Set - 集合 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/WebTravel/javascript/data-type/object/map.html" class="nav-link sidebar-item" aria-label="Map - 映射"><!--[--><!--]--> Map - 映射 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/WebTravel/javascript/data-type/object/build-in-object/build-in-object.md" class="nav-link sidebar-item" aria-label="内置对象"><!--[--><!--]--> 内置对象 <!--[--><!--]--></a><ul class="sidebar-sub-items"><li><!--[--><a href="/WebTravel/javascript/data-type/object/build-in-object/math.html" class="nav-link sidebar-item" aria-label="Math - 数学"><!--[--><!--]--> Math - 数学 <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--></li></ul><!--]--></li><li><!--[--><a href="/WebTravel/javascript/data-type/type-conversion.html" class="nav-link sidebar-item" aria-label="类型转换"><!--[--><!--]--> 类型转换 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/WebTravel/javascript/data-type/type-judgement.html" class="nav-link sidebar-item" aria-label="类型判断"><!--[--><!--]--> 类型判断 <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--></li><li><!--[--><a href="/WebTravel/javascript/function.html" class="nav-link sidebar-item" aria-label="函数"><!--[--><!--]--> 函数 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/WebTravel/javascript/reflect.html" class="nav-link sidebar-item" aria-label="Reflect"><!--[--><!--]--> Reflect <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/WebTravel/javascript/proxy.html" class="nav-link sidebar-item" aria-label="Proxy"><!--[--><!--]--> Proxy <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/WebTravel/javascript/json.html" class="nav-link sidebar-item" aria-label="JSON"><!--[--><!--]--> JSON <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/WebTravel/javascript/client-cache.html" class="nav-link sidebar-item" aria-label="客户端缓存"><!--[--><!--]--> 客户端缓存 <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><h1 id="date-日期" tabindex="-1"><a class="header-anchor" href="#date-日期" aria-hidden="true">#</a> Date - 日期</h1><p>Date对象表示从1970年1月1日（UTC）到某个时刻的时间,提供处理日期和时间的方法(本地时间和UTC时间)。</p><h2 id="常见时间" tabindex="-1"><a class="header-anchor" href="#常见时间" aria-hidden="true">#</a> 常见时间</h2><p>一般在项目开发中主要使用的都是本地时间(计算机所在地的时间),对于我们来说就是北京时间。</p><h6 id="utc" tabindex="-1"><a class="header-anchor" href="#utc" aria-hidden="true">#</a> UTC</h6><p>UTC(Universal Time Coordinated) - 协调世界时、世界标准时间: 是以原子时秒长为基础，在时刻上尽量接近于世界时的一种时间计量系统。</p><h6 id="iso" tabindex="-1"><a class="header-anchor" href="#iso" aria-hidden="true">#</a> ISO</h6><p>ISO(International Organization for Standardization) - 国际标准组织: 以国际标准ISO 8601表示日期和时间</p><h6 id="gmt" tabindex="-1"><a class="header-anchor" href="#gmt" aria-hidden="true">#</a> GMT</h6><p>GMT(Greenwich Mean Time) - 格林尼治时间:格林尼治所在地的标准时间，也是表示地球自转速率的一种形式。</p><h6 id="cst" tabindex="-1"><a class="header-anchor" href="#cst" aria-hidden="true">#</a> CST</h6><p>CST(Chinese standard time) - 北京时间: 北京时间是中国采用国际时区东八时区的区时作为标准时间,中国全境（大陆、港澳、台湾）均采取北京时间（UTC+8),即北京时间比UTC晚8个小时。</p><h2 id="构造函数" tabindex="-1"><a class="header-anchor" href="#构造函数" aria-hidden="true">#</a> 构造函数</h2><p>Date构造函数创建一个Date的实例对象,默认是UTC,UTC早于北京时间8小时。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 1. 不接收参数时, 创建现在时间的date对象</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2021-12-25T04:00:00.000Z</span>

<span class="token comment">// 2. 传入时间戳(毫秒数),计算从1970年1月1日（UTC）以来的时间的毫秒数</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">1640404800000</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2021-12-25T04:00:00.000Z</span>

<span class="token comment">// 3. 传入date对象</span>
<span class="token keyword">const</span> date <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> copyDate <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 4. 传入的能被Date.parse的字符串</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token string">&#39;December 25, 2021 12:00:00&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2021-12-25T04:00:00.000Z</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token string">&#39;2021-12-25T 12:00:00Z&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">// 2021-12-25T04:00:00.000Z</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token string">&#39;12/25/2021 12:00:00&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// 2021-12-25T04:00:00.000Z</span>

<span class="token comment">// 5. new Date(year,monthIndex,[,date,hours,minutes,seconds,milliseconds])</span>
<span class="token comment">// 除了年、月是必填,其他的是可选</span>
<span class="token comment">// 0到99会被映射至1900年至1999年</span>
<span class="token comment">// 注意: 月份的范围是0～11,0是1月,11是12月</span>
<span class="token comment">// date默认为1, hours、minutes、seconds、milliseconds 默认为0</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">2021</span><span class="token punctuation">,</span><span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2021-11-30T16:00:00.000Z</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">2021</span><span class="token punctuation">,</span><span class="token number">11</span><span class="token punctuation">,</span><span class="token number">25</span><span class="token punctuation">,</span><span class="token number">12</span><span class="token punctuation">,</span><span class="token number">00</span><span class="token punctuation">,</span><span class="token number">00</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2021-12-25T04:00:00.000Z</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><h2 id="静态方法" tabindex="-1"><a class="header-anchor" href="#静态方法" aria-hidden="true">#</a> 静态方法</h2><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 1. 1970年1月1日（UTC）到当前时间的毫秒数,记住是毫秒数</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1640455537359</span>

<span class="token comment">// 2. Date.parse 解析一个表示某个日期的字符串(符合RFC2822/IETF语法),并返回从1970年1月1日（UTC）到该日期对象（该日期对象的UTC时间）的毫秒数</span>
<span class="token comment">// 如果日期字符串无法解析, 则返回NaN</span>
<span class="token comment">// 一般日期字符串都是通过生成的,可以直接使用</span>

<span class="token comment">// ISO日期格式 - 具体时间可以没有,但是必须有日期</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Date<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token string">&#39;2021-12-25&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 1640390400000</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Date<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token string">&#39;2021-12-25T12:00:00&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 1640404800000</span>

<span class="token comment">// RFC2822 / IETF 日期格式</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Date<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token string">&#39;Sat Dec 25 2021 12:00:00 GMT+0800&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// 1640404800000</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Date<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token string">&#39;December 25, 2021 12:00:00&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>           <span class="token comment">// 1640404800000</span>

<span class="token comment">// 3. Date.UTC 获取从1970年1月1日（UTC）到指定时间(UTC时间)的毫秒数</span>
<span class="token keyword">const</span> UTCChristmas <span class="token operator">=</span> Date<span class="token punctuation">.</span><span class="token constant">UTC</span><span class="token punctuation">(</span><span class="token number">2021</span><span class="token punctuation">,</span><span class="token number">11</span><span class="token punctuation">,</span><span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>UTCChristmas<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toLocaleString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2021/12/25 上午8:00:00</span>

<span class="token comment">// 记住,构造函数是获取 从1970年1月1日（UTC）到指定时间(本地时间)的毫秒数,对应的UTC时间还得往前8小时</span>
<span class="token keyword">const</span> LocaleChristmas <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">2021</span><span class="token punctuation">,</span><span class="token number">11</span><span class="token punctuation">,</span><span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>LocaleChristmas<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toLocaleString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2021/12/25 上午12:00:00, 上午12:00表示的就是0点</span>

<span class="token comment">// 解析: 使用构造函数创建的是本地时间的2021-12-25 00:00:00,对应的UTC时间得往前8小时,也就是 2021-12-24 16:00:00</span>
<span class="token comment">//      而Date.UTC创建的是UTC时间的2021-12-25 00:00:00,对应的本地时间还得往后8小时,也就是2021-12-25 08:00:00</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><h2 id="实例方法" tabindex="-1"><a class="header-anchor" href="#实例方法" aria-hidden="true">#</a> 实例方法</h2><h6 id="读取时间" tabindex="-1"><a class="header-anchor" href="#读取时间" aria-hidden="true">#</a> 读取时间</h6><p>实例上有获取时间具体信息的方法,可以获取本地时间,也可以获取UTC时间,以下展示本地时间的获取方式。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> Christmas <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">2021</span><span class="token punctuation">,</span><span class="token number">11</span><span class="token punctuation">,</span><span class="token number">25</span><span class="token punctuation">,</span><span class="token number">12</span><span class="token punctuation">,</span><span class="token number">00</span><span class="token punctuation">,</span><span class="token number">00</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 1. getTime 返回从1970年1月1日0时0分0秒(UTC)到date实例时间的毫秒数</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;获取时间毫秒表示:&#39;</span><span class="token punctuation">,</span>Christmas<span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">// 获取时间毫秒表示: 1640404800000</span>

<span class="token comment">// 2. getFullYear获取当前时间年份</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;获取本地时间年份:&#39;</span><span class="token punctuation">,</span>Christmas<span class="token punctuation">.</span><span class="token function">getFullYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// 获取年份: 2021 </span>

<span class="token comment">// 3. getMonth获取当前时间月份(0～11,0表示1月,11表示12月,为了正常显示,要+1)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;获取本地时间月份:&#39;</span><span class="token punctuation">,</span>Christmas<span class="token punctuation">.</span><span class="token function">getMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>         <span class="token comment">// 获取月份: 12</span>

<span class="token comment">// 4. getDate获取当前时间日期</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;获取本地时间日期:&#39;</span><span class="token punctuation">,</span>Christmas<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">// 获取日期: 25</span>

<span class="token comment">// 5. getHours获取当前时间的小时</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;获取本地时间时钟:&#39;</span><span class="token punctuation">,</span>Christmas<span class="token punctuation">.</span><span class="token function">getHours</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>           <span class="token comment">// 获取时钟: 12</span>

<span class="token comment">// 6. getMinutes获取当前时间的分钟</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;获取本地时间分钟:&#39;</span><span class="token punctuation">,</span>Christmas<span class="token punctuation">.</span><span class="token function">getMinutes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>         <span class="token comment">// 获取分钟: 0</span>

<span class="token comment">// 7. getSeconds获取当前时间的秒钟</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;获取本地时间秒钟:&#39;</span><span class="token punctuation">,</span>Christmas<span class="token punctuation">.</span><span class="token function">getSeconds</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>         <span class="token comment">// 获取秒钟: 0</span>

<span class="token comment">// 8. getMilliseconds获取当前时间的毫秒钟</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;获取本地时间毫秒钟:&#39;</span><span class="token punctuation">,</span>Christmas<span class="token punctuation">.</span><span class="token function">getMilliseconds</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 获取毫秒数: 0</span>

<span class="token comment">// 9. getDay获取当前时间在这周处于第几天(1~7,也就是周一到周日)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;获取本地时间周几:&#39;</span><span class="token punctuation">,</span>Christmas<span class="token punctuation">.</span><span class="token function">getDay</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>             <span class="token comment">// 获取天数: 6</span>

<span class="token comment">// 10. getTimezoneOffset获取UTC和当前时间的时差(单位是分钟),我们是北京时间, 和UTC时差为8个小时,也就是480分钟</span>
<span class="token comment">// 也就是用UTC的时间 - 当前时区的时间</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;获取时差:&#39;</span><span class="token punctuation">,</span>Christmas<span class="token punctuation">.</span><span class="token function">getTimezoneOffset</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 获取时差: -480</span>

<span class="token comment">// 获取UTC时间</span>
<span class="token comment">// 与获取本地时间同理,一定要记住,UTC的时间是早于北京时间8个小时</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;获取UTC年份:&#39;</span><span class="token punctuation">,</span> Christmas<span class="token punctuation">.</span><span class="token function">getUTCFullYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">// 获取UTC年份: 2021</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;获取UTC月份:&#39;</span><span class="token punctuation">,</span> Christmas<span class="token punctuation">.</span><span class="token function">getUTCMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>         <span class="token comment">// 获取UTC月份: 11</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;获取UTC日期:&#39;</span><span class="token punctuation">,</span> Christmas<span class="token punctuation">.</span><span class="token function">getUTCDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token comment">// 获取UTC日期: 25</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;获取UTC时钟:&#39;</span><span class="token punctuation">,</span> Christmas<span class="token punctuation">.</span><span class="token function">getUTCHours</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>         <span class="token comment">// 获取UTC时钟: 4</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;获取UTC分钟:&#39;</span><span class="token punctuation">,</span> Christmas<span class="token punctuation">.</span><span class="token function">getUTCMinutes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment">// 获取UTC分钟: 0</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;获取UTC秒钟:&#39;</span><span class="token punctuation">,</span> Christmas<span class="token punctuation">.</span><span class="token function">getUTCSeconds</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment">// 获取UTC秒钟: 0</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;获取UTC周几:&#39;</span><span class="token punctuation">,</span> Christmas<span class="token punctuation">.</span><span class="token function">getUTCDay</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>           <span class="token comment">// 获取UTC周几: 6</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;获取UTC毫秒钟:&#39;</span><span class="token punctuation">,</span>Christmas<span class="token punctuation">.</span><span class="token function">getUTCMilliseconds</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 获取UTC毫秒钟: 0</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br></div></div><h6 id="设置时间" tabindex="-1"><a class="header-anchor" href="#设置时间" aria-hidden="true">#</a> 设置时间</h6><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> Christmas <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Christmas<span class="token punctuation">.</span><span class="token function">setFullYear</span><span class="token punctuation">(</span><span class="token number">2021</span><span class="token punctuation">)</span><span class="token punctuation">;</span>              <span class="token comment">// 设置年份 </span>
Christmas<span class="token punctuation">.</span><span class="token function">setMonth</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                   <span class="token comment">// 设置月份, 0~11,0是1月,11是12月</span>
Christmas<span class="token punctuation">.</span><span class="token function">setDate</span><span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token comment">// 设置日期</span>
Christmas<span class="token punctuation">.</span><span class="token function">setHours</span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                   <span class="token comment">// 设置时钟</span>
Christmas<span class="token punctuation">.</span><span class="token function">setMinutes</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                  <span class="token comment">// 设置分钟</span>
Christmas<span class="token punctuation">.</span><span class="token function">setSeconds</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                  <span class="token comment">// 设置秒钟</span>
Christmas<span class="token punctuation">.</span><span class="token function">setMilliseconds</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>             <span class="token comment">// 设置毫秒</span>

<span class="token comment">// 也可以直接设置从从1970年1月1日（UTC）开始的毫秒数, 很少用到</span>
<span class="token comment">// Christmas.setTime(1640404800000);      </span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Christmas<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 2021-12-25T04:00:00.000Z</span>

<span class="token comment">// UTC的方法也一样,就不演示了</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h6 id="输出时间" tabindex="-1"><a class="header-anchor" href="#输出时间" aria-hidden="true">#</a> 输出时间</h6><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> Christmas <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">2021</span><span class="token punctuation">,</span><span class="token number">11</span><span class="token punctuation">,</span><span class="token number">25</span><span class="token punctuation">,</span><span class="token number">12</span><span class="token punctuation">,</span><span class="token number">00</span><span class="token punctuation">,</span><span class="token number">00</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">table</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token comment">// 1. toLocaleDateString 返回日期对象日期部分的字符串</span>
  <span class="token string">&#39;toLocaleDateString&#39;</span><span class="token operator">:</span> Christmas<span class="token punctuation">.</span><span class="token function">toLocaleDateString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// 2021/12/25</span>

  <span class="token comment">// 2. toLocaleTimeString 返回日期对象时间部分的字符串</span>
  <span class="token string">&#39;toLocaleTimeString&#39;</span><span class="token operator">:</span> Christmas<span class="token punctuation">.</span><span class="token function">toLocaleTimeString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token comment">// 下午12:00:00</span>

  <span class="token comment">// 3. toLocaleString 返回该日期对象的日期和时间字符串, 相当于 toLocaleDateString + &#39; &#39; + toLocaleTimeString</span>
  <span class="token string">&#39;toLocaleString&#39;</span><span class="token operator">:</span> Christmas<span class="token punctuation">.</span><span class="token function">toLocaleString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>         <span class="token comment">// 2021/12/25 下午12:00:00</span>

  <span class="token comment">// 6. toDateString 返回日期对象日期部分的美式英语日期格式的字符串</span>
  <span class="token string">&#39;toDateString&#39;</span><span class="token operator">:</span> Christmas<span class="token punctuation">.</span><span class="token function">toDateString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>             <span class="token comment">// Sat Dec 25 2021</span>

  <span class="token comment">// 7. toTimeString 返回日期对象时间部分的美式英语日期格式的字符串</span>
  <span class="token string">&#39;toTimeString&#39;</span><span class="token operator">:</span> Christmas<span class="token punctuation">.</span><span class="token function">toTimeString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>             <span class="token comment">// 12:00:00 GMT+0800 (中国标准时间)</span>

  <span class="token comment">// 8.Date实例重写了toString方法,返回日期对象日期和时间的美式英语日期格式的字符串</span>
  <span class="token comment">// 相当于 toDateString + &#39; &#39; +  toTimeString</span>
  <span class="token string">&#39;toString&#39;</span><span class="token operator">:</span> Christmas<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                    <span class="token comment">// Sat Dec 25 2021 12:00:00 GMT+0800 (中国标准时间)</span>

  <span class="token comment">// 9. toUTCString 返回UTC时间的美式英语日期格式的字符串</span>
  <span class="token string">&#39;toUTCString&#39;</span><span class="token operator">:</span> Christmas<span class="token punctuation">.</span><span class="token function">toUTCString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>               <span class="token comment">// Sat, 25 Dec 2021 04:00:00 GMT</span>
  
  <span class="token comment">// 10. toISOString 返回ISO格式的字符串: YYYY-MM-DDTHH:mm:ss.sssZ</span>
  <span class="token comment">// 时区总是UTC(协调世界时),加一个后缀“Z”标识</span>
  <span class="token string">&#39;toISOString&#39;</span><span class="token operator">:</span> Christmas<span class="token punctuation">.</span><span class="token function">toISOString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>               <span class="token comment">// 2021-12-25T04:00:00.000Z</span>

  <span class="token comment">// 11. toJSON 返回一个JSON格式字符串(使用 toISOString())</span>
  <span class="token string">&#39;toJSON&#39;</span><span class="token operator">:</span> Christmas<span class="token punctuation">.</span><span class="token function">toJSON</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                         <span class="token comment">// 2021-12-25T04:00:00.000Z</span>

  <span class="token comment">// 12. valueOf 返回和getTime一样的毫秒数</span>
  <span class="token string">&#39;valueoOf&#39;</span><span class="token operator">:</span> Christmas<span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                       <span class="token comment">// 1640404800000</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>           

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Christmas<span class="token punctuation">.</span><span class="token function">toISOString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">===</span> Christmas<span class="token punctuation">.</span><span class="token function">toJSON</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br></div></div><h2 id="时间矫正" tabindex="-1"><a class="header-anchor" href="#时间矫正" aria-hidden="true">#</a> 时间矫正</h2><p>通过构造函数和setXXX的形式设置时间时,如果传入的日期超出,则会对时间进行矫正。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 1. 元旦节 - 2021/1/1</span>
<span class="token keyword">const</span> newYear <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">2021</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newYear<span class="token punctuation">.</span><span class="token function">toLocaleString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2021/1/1 上午12:00:00</span>

<span class="token comment">/// 这也是元旦 - 2020/12/32 因为12月只有31天, 32天则是下一个月的第一天,就变成 2021/1/1</span>
<span class="token keyword">const</span> newYear2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">2020</span><span class="token punctuation">,</span><span class="token number">11</span><span class="token punctuation">,</span><span class="token number">32</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newYear2<span class="token punctuation">.</span><span class="token function">toLocaleString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2021/1/1 上午12:00:00</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h2 id="应用" tabindex="-1"><a class="header-anchor" href="#应用" aria-hidden="true">#</a> 应用</h2><p>Date的应用中,最经常用到的无非就是时间格式化和时间差值的计算了。</p><ul><li>时间格式化: 当以上date实例提供的输出方法不能够满足我们的需求的时候,就需要手动的获取各个属性,然后根据需求做相应的操作。</li><li>时间差值: 计算两个日期之间的时间差,通过获取两个日期的毫秒数,进行减法运(-),就可以获取两个日期之间间隔的毫秒数,然后转换成需要的单位。</li></ul><h6 id="实战" tabindex="-1"><a class="header-anchor" href="#实战" aria-hidden="true">#</a> 实战</h6><p>假设现在正在完成一个聊天的项目,涉及到聊天消息相关的功能,现在有个需求,编写一个工具类函数,接收一个date对象,并根据和当前时间的差值,返回不同的结果。</p><ul><li>过去30秒内, 返回&#39;刚刚&#39;</li><li>30秒以上,但是是同一天, 返回格式 &#39;HH:mm&#39;,如 &#39;16:00&#39;</li><li>昨天的date对象, 返回 &#39;昨天 HH:mm&#39;, 如 &#39;昨天 16:00&#39;</li><li>昨天以前,但是是同一年, 返回格式 &#39;X月X日 HH:mm&#39;,如 &#39;12月25日 16:00&#39;</li><li>去年以及再往前, 返回 &#39;XXXX年X月X日 HH:mm&#39;, 如 &#39;2016年12月11日 16:00&#39;</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token doc-comment comment">/**
 * 
 * <span class="token keyword">@param</span> <span class="token class-name"><span class="token punctuation">{</span>Date<span class="token punctuation">}</span></span> <span class="token parameter">date</span> 日期对象
 * <span class="token keyword">@returns</span> <span class="token class-name"><span class="token punctuation">{</span>String<span class="token punctuation">}</span></span> 格式化后的日期字符串
 */</span>
<span class="token keyword">function</span> <span class="token function">dateFormat</span><span class="token punctuation">(</span><span class="token parameter">date</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token comment">// 需要先获取当前时间和接收时间的 date对象和毫秒数</span>
  <span class="token comment">// 毫秒数用来计算差值,date对象用来获取年/月/日/时/分</span>
  <span class="token keyword">const</span> now <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 当前时间的date对象</span>
  <span class="token keyword">const</span> nowTime <span class="token operator">=</span> Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 当前时间的毫秒表示</span>
  <span class="token keyword">const</span> dateTime <span class="token operator">=</span> date<span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 接收的date对象的毫秒数</span>
  <span class="token keyword">const</span> diff <span class="token operator">=</span> dateTime <span class="token operator">-</span> nowTime<span class="token punctuation">;</span> <span class="token comment">// 时间差值, 单位是毫秒</span>

  <span class="token comment">// dateMap用于获取存储date的年/月/日/时/分, 目前用到的就这些,根据需要存储</span>
  <span class="token keyword">const</span> dateMap <span class="token operator">=</span> <span class="token punctuation">{</span>
    year<span class="token operator">:</span> date<span class="token punctuation">.</span><span class="token function">getFullYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    mouth<span class="token operator">:</span> date<span class="token punctuation">.</span><span class="token function">getMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span>
    day<span class="token operator">:</span> date<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    hour<span class="token operator">:</span> date<span class="token punctuation">.</span><span class="token function">getHours</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    minute<span class="token operator">:</span> date<span class="token punctuation">.</span><span class="token function">getMinutes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  
  <span class="token comment">// 这个是昨天的date对象,用于等会获取昨天的日期部分</span>
  <span class="token keyword">const</span> yesterday <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>nowTime <span class="token operator">-</span> <span class="token number">24</span> <span class="token operator">*</span> <span class="token number">3600</span> <span class="token operator">*</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// 根据年/月/日/时/分和时间差值来判断两个时间之间的关系</span>
  <span class="token comment">// 1. 时间间隔小于等于 30秒</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span>diff<span class="token punctuation">)</span> <span class="token operator">&lt;=</span> <span class="token number">30000</span> <span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token string">&#39;刚刚&#39;</span><span class="token punctuation">;</span>
  <span class="token comment">// 2. 时间间隔大于30秒,但是是同一天</span>
  <span class="token comment">// 通过比较now(现在)的日期部分和date对象的日期部分</span>
  <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>now<span class="token punctuation">.</span><span class="token function">toLocaleDateString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">===</span> date<span class="token punctuation">.</span><span class="token function">toLocaleDateString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span>hour<span class="token punctuation">,</span> minute<span class="token punctuation">}</span> <span class="token operator">=</span> dateMap<span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>hour<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">:</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>minute<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
  <span class="token comment">// 3. 昨天的消息, 比较昨天的日期部分和 date的日期部分</span>
  <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>yesterday<span class="token punctuation">.</span><span class="token function">toLocaleDateString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">===</span> date<span class="token punctuation">.</span><span class="token function">toLocaleDateString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> hour<span class="token punctuation">,</span> minute <span class="token punctuation">}</span> <span class="token operator">=</span> dateMap<span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">昨天 </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>hour<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">:</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>minute<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
  <span class="token comment">// 4. 年份相同(同年),但是不是今天、不是昨天(昨天和今天在上面就return了)</span>
  <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>now<span class="token punctuation">.</span><span class="token function">getFullYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">===</span> dateMap<span class="token punctuation">.</span>year<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span>mouth<span class="token punctuation">,</span> day<span class="token punctuation">,</span> hour<span class="token punctuation">,</span> minute<span class="token punctuation">}</span> <span class="token operator">=</span> dateMap<span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>mouth<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">月</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>day<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">日 </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>hour<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">:</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>minute<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
  <span class="token comment">// 5. 年份不同</span>
  <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span>year<span class="token punctuation">,</span>mouth<span class="token punctuation">,</span> day<span class="token punctuation">,</span> hour<span class="token punctuation">,</span> minute<span class="token punctuation">}</span> <span class="token operator">=</span> dateMap<span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>year<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">年</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>mouth<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">月</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>day<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">日 </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>hour<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">:</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>minute<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 因为是以当前时间作为参照,所以不同时间打印出来的也是不一样的,关注返回格式即可</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">dateFormat</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">9000</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>         <span class="token comment">// 刚刚, 9秒前</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">dateFormat</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">3600000</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">// 10:55, 一小时前</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">dateFormat</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">24</span> <span class="token operator">*</span> <span class="token number">3600000</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 昨天 11:55, 一天前</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">dateFormat</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">48</span> <span class="token operator">*</span> <span class="token number">3600000</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 12月25日 11:55, 两天前</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">dateFormat</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">365</span> <span class="token operator">*</span> <span class="token number">24</span> <span class="token operator">*</span> <span class="token number">3600000</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 2020年12月27日 11:55, 365天前</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br></div></div><!--]--></div><footer class="page-meta"><!----><div class="meta-item last-updated"><span class="meta-item-label">上次更新: </span><span class="meta-item-info">2021/12/29 16:47:16</span></div><!----></footer><nav class="page-nav"><p class="inner"><span class="prev"> ← <a href="/WebTravel/javascript/data-type/object/array.html" class="nav-link" aria-label="Array - 数组"><!--[--><!--]--> Array - 数组 <!--[--><!--]--></a></span><span class="next"><a href="/WebTravel/javascript/data-type/object/reg-exp.html" class="nav-link" aria-label="RegExp - 正则表达式"><!--[--><!--]--> RegExp - 正则表达式 <!--[--><!--]--></a> → </span></p></nav><!--[--><!--]--></main><!--]--></div><!----><div name="issue" class="issue-container"><div class="issue-icon"></div><div class="issue-text">Issue</div></div><!----><!--]--></div>
    <script src="/WebTravel/assets/js/runtime~app.e0f9ef3d.js" defer></script><script src="/WebTravel/assets/js/1958.03479df5.js" defer></script><script src="/WebTravel/assets/js/app.2af0c91a.js" defer></script>
  </body>
</html>
